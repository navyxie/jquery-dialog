var NAVY=NAVY||{};NAVY.UTIL=NAVY.UTIL||{},NAVY.UTIL.Style=NAVY.UTIL.Style||{},NAVY.UTIL.Style.getMaxZIndex=function(){for(var t=document.getElementsByTagName("*"),a=t.length,i=0,e=1;a>i;i++)e=Math.max(e,t[i].style.zIndex||0);return e},NAVY.UTIL.Style.setMaxZIndex=function(t){t.style.zIndex=1+NAVY.UTIL.Style.getMaxZIndex()};var noop=function(){};NAVY.Dialog=function(t,a){var i={title:"温馨提示",isShowTiTle:!0,closeText:"X",closeCbf:noop,isShowCloseBtn:!0,isMask:!0,isClickMaskCloseDialog:!1,clickMaskCbf:noop,sureBtnText:"确定",sureBtnCbf:noop,isShowSureBtn:!0,cancelBtnText:"取消",cancelBtnCbf:noop,isShowCancelBtn:!0,target:"body",dialogWidth:null,dialogHeight:null,marginLeft:null,marginTop:null,dialogClass:"",position:"fixed",autoCloseSecond:0,knowBtnCbf:noop,isDrag:!1};this.contentHtml=t||"请填充对话框内容",$.extend(i,a),this.options=i,this.targetObj=$(this.options.target),this.bodyObj=$("body"),this.init()},NAVY.Dialog.prototype={init:function(){return this.showDialog(),this.initEvent(),this},initEvent:function(){var t=this,a=t.options,i=t.dialogObj,e=i.find(".navyDialogTitleContainer").find(".closeDialogBtn");a.isMask&&this.bodyObj.find(".navyMaskWrapper").click(function(){a.isClickMaskCloseDialog&&t.closeDialog(),a.clickMaskCbf()}),i.on("click",".navyDialogBtnClick",function(){var i=$(this);i.hasClass("closeDialogBtn")?(t.closeDialog(),a.closeCbf()):i.hasClass("navySureBtn")?a.sureBtnCbf.apply(t,arguments):i.hasClass("navyCancelBtn")?(t.closeDialog(),a.cancelBtnCbf.apply(t,arguments)):i.hasClass("navyDialogTipKnowBtn")&&(t.closeDialog(),a.knowBtnCbf.apply(t,arguments))});var o=a.autoCloseSecond;if(0!==o){if(e.length){e.html('<span class="leftSecond">'+o+"</span>秒后关闭");var n=e.find(".leftSecond")[0];NAVY.UTIL.Date.countDown(n,o)}var l=setTimeout(function(){t.closeDialog(),l&&clearTimeout(l)},1e3*o)}if(a.isDrag){var s=!1,r={x:0,y:0},c={left:0,top:0};i.find(".navyDialogTitleContainer").css("cursor","move").mousedown(function(t){return s=!0,NAVY.UTIL.Style.setMaxZIndex(i[0]),r.x=t.pageX,r.y=t.pageY,c.left=i.position().left,c.top=i.position().top,!1}),$(document).on("mouseup mousemove",function(t){switch(t.type){case"mouseup":return s=!1,!1;case"mousemove":if(s){var a={x:t.pageX,y:t.pageY},e=a.x-r.x,o=a.y-r.y;if(0===e%2||0===o%2){var n=c.left+e,l=c.top+o;n=0>=n?0:n,l=0>=l?0:l,i.css({left:n,top:l})}}return!1}})}return this},showDialog:function(){var t=NAVY.UTIL.Style,a=t.getMaxZIndex(),i=this,e=i.options,o="";"fixed"!==e.position&&(o="position:absolute");var n=['<div style="z-index: '+(2+a)+";"+o+'" class="navyDialogWrapper '+e.dialogClass+'"><table class="navyDialogTable"><tr><td>'];e.isShowTiTle?e.isShowCloseBtn?n.push('<h2 class="navyDialogTitleContainer relative"><a href="javascript:;" class="navyDialogBtnClick closeDialogBtn floatRight">'+e.closeText+'</a><span class="dialogTitle">'+e.title+"</span></h2>"):n.push('<h2 class="navyDialogTitleContainer relative"><span class="dialogTitle textAlignCenter">'+e.title+"</span></h2>"):e.isShowCloseBtn&&n.push('<h2 class="navyDialogTitleContainer relative"><a href="javascript:;" class="navyDialogBtnClick closeDialogBtn floatRight">'+e.closeText+"</a></h2>"),n.push('<div class="navyDialogContentContainer"><div class="navyDialogContent">'+i.contentHtml+"</div></div>"),e.isShowSureBtn?e.isShowCancelBtn?n.push('<div class="navyDialogBtnContainer"><div class="navyDialogBtnContent"><a href="javascript:;" class="navyDialogBtn navyDialogBtnClick navySureBtn">'+e.sureBtnText+'</a><a href="javascript:;" class="navyDialogBtn navyDialogBtnClick navyCancelBtn">'+e.cancelBtnText+"</a></div></div>"):n.push('<div class="navyDialogBtnContainer"><div class="navyDialogBtnContent"><a href="javascript:;" class="navyDialogBtn navyDialogBtnClick navySureBtn marginCenter">'+e.sureBtnText+"</a></div></div>"):e.isShowCancelBtn&&n.push('<div class="navyDialogBtnContainer"><div class="navyDialogBtnContent"><a href="javascript:;" class="navyDialogBtn navyDialogBtnClick navyCancelBtn marginCenter">'+e.cancelBtnText+"</a></div></div>"),n.push("</td></tr></table></div>"),i.dialogObj=$(n.join("")).appendTo(e.target);var l=i.dialogObj,s=e.dialogWidth||l.outerWidth(),r=e.dialogHeight||l.outerHeight();s=80>s?80:s;var c=s/2,d=r/2,g=e.marginLeft,p=e.marginTop;return null!==g?null!==p?l.css({width:s,height:r,marginLeft:g,marginTop:p,left:0,top:0,overflow:"hidden"}):l.css({width:s,height:r,marginLeft:g,marginTop:-d,left:0,overflow:"hidden"}):null!==p?l.css({width:s,height:r,marginLeft:-c,marginTop:p,top:0,overflow:"hidden"}):l.css({width:s,height:r,marginLeft:-c,marginTop:-d,overflow:"hidden"}),e.isMask&&(i.bodyObj.find(".navyMaskWrapper").length||i.bodyObj.append('<div style="z-index: '+(1+a)+'" class="navyMaskWrapper"></div>')),this},closeDialog:function(){var t=this,a=t.options;return t.dialogObj.unbind().remove(),a.isMask&&t.bodyObj.find(".navyMaskWrapper").remove(),this}},NAVY.Alert=function(t,a){a=a||{};var i=a.type||"success";a.bgType=a.bgType||0;var e=isNaN(a.bgType)?0:a.bgType,o={"-1":"noCss3Bg",0:"uiCss3BlackGradientBG",1:"uiCss3BlueGradientBG",2:"uiCss3GreyGradientBG",3:"uiCss3LightBlueGradientBG",4:"uiCss3LightSteelBlue",5:"uiCss3RoyalBlueGradientBG",6:"uiGoldenrodGradientBG"},n=o[e]||o["0"],l="successNavyAlert",s=a.dialogClass;switch(s?s+=" navyDialogAlert":s="navyDialogAlert",i){case"error":l="errorNavyAlert";break;case"warning":l="warningNavyAlert";break;case"loading":l="loadingNavyAlert";break;default:l="successNavyAlert"}t='<div class="navyAlert '+n+'"><div class="navyAlertSub '+l+'">'+t+"</div></div>";var r={isShowTiTle:!1,isShowCloseBtn:!1,isShowSureBtn:!1,isShowCancelBtn:!1,isMask:!1,dialogClass:s,autoCloseSecond:a.autoCloseSecond||3,position:a.position||"fixed",target:a.target||"body",dialogWidth:a.dialogWidth||null,dialogHeight:a.dialogHeight||null,marginLeft:a.marginLeft||null,marginTop:a.marginTop||null};return"loading"===i&&(r.autoCloseSecond=0),new NAVY.Dialog(t,r)},NAVY.Tip=function(t,a,i){i=i||{},void 0===i.isShowKnowBtn&&(i.isShowKnowBtn=!0),i.knowBtnText=i.knowBtnText||"知道了";var e=i.dialogClass;e?e+=" navyDialogTip":e="navyDialogTip";var o={isShowTiTle:!1,isShowCloseBtn:!1,isShowSureBtn:!1,isShowCancelBtn:!1,isMask:!1,dialogClass:e,autoCloseSecond:i.autoCloseSecond||0,position:i.position||"absolute",target:t||i.target||"body",knowBtnCbf:i.knowBtnCbf||noop,dialogWidth:i.dialogWidth||null,dialogHeight:i.dialogHeight||null,marginLeft:i.marginLeft||null,marginTop:i.marginTop||null,tipBorderColor:i.tipBorderColor||null,arrowValue:i.arrowValue||null},n=i.direction||"top",l="arrowTop";switch(n){case"bottom":l="arrowBottom";break;case"left":l="arrowLeft";break;case"right":l="arrowRight";break;default:l="arrowTop"}var s=o.tipBorderColor,r=o.arrowValue,c={},d={},g=10;null!==s?null!==r?(c.arrowBottom='style="border-top-color:'+s+";left:0;margin-left:"+(r+g)+'px;"',c.arrowLeft='style="border-right-color:'+s+";top:0;margin-top:"+(r+g)+'px;"',c.arrowRight='style="border-left-color:'+s+";top:0;margin-top:"+(r+g)+'px;"',c.arrowTop='style="border-bottom-color:'+s+";left:0;margin-left:"+(r+g)+'px;"',d.arrowBottom='style="left:0;margin-left:'+(r+g)+'px;"',d.arrowLeft='style="top:0;margin-top:'+(r+g)+'px;"',d.arrowRight='style="top:0;margin-top:'+(r+g)+'px;"',d.arrowTop='style="left:0;margin-left:'+(r+g)+'px;"'):(c.arrowBottom='style="border-top-color:'+s+'"',c.arrowLeft='style="border-right-color:'+s+'"',c.arrowRight='style="border-left-color:'+s+'"',c.arrowTop='style="border-bottom-color:'+s+'"'):null!==r&&(c.arrowBottom=d.arrowBottom='style="left:0;margin-left:'+(r+g)+'px;"',c.arrowLeft=d.arrowLeft='style="top:0;margin-top:'+(r+g)+'px;"',c.arrowRight=d.arrowRight='style="top:0;margin-top:'+(r+g)+'px;"',c.arrowTop=d.arrowTop='style="left:0;margin-left:'+(r+g)+'px;"');var p=c[l]||"",v=d[l]||"";a='<div class="navyTip">'+a+"</div><div "+p+' class="navyTipArrow navyTipArrow1 absolute '+l+'"></div><div '+v+' class="navyTipArrow navyTipArrow2 absolute '+l+'"></div>',i.isShowKnowBtn&&(a+='<div class="navyDialogTipBtnContainer"><a href="javascript:;" class="navyDialogBtnClick navyDialogTipKnowBtn">'+i.knowBtnText+"</a></div>");var u=new NAVY.Dialog(a,o);return null!==s&&u.dialogObj.find(".navyDialogContent").css({"border-color":s}),c=d=g=p=v=i=null,u};
var NAVY=NAVY||{},noop=function(){};NAVY.Dialog=function(e,t){var n={title:"\u6e29\u99a8\u63d0\u793a",isShowTiTle:!0,closeText:"X",closeCbf:noop,isShowCloseBtn:!0,isMask:!0,isClickMaskCloseDialog:!1,clickMaskCbf:noop,sureBtnText:"\u786e\u5b9a",sureBtnCbf:noop,isShowSureBtn:!0,cancelBtnText:"\u53d6\u6d88",cancelBtnCbf:noop,isShowCancelBtn:!0,target:"body",dialogWidth:null,dialogHeight:null,marginLeft:null,marginTop:null,dialogClass:"",position:"fixed",autoCloseSecond:0};this.contentHtml=e||"\u8bf7\u586b\u5145\u5bf9\u8bdd\u6846\u5185\u5bb9",$.extend(n,t),this.options=n,this.targetObj=$(this.options.target),this.bodyObj=$("body"),this.init()},NAVY.Dialog.prototype={init:function(){return this.showDialog(),this.initEvent(),this},initEvent:function(){var e,t,n,r=this,i=r.options,s=r.dialogObj,o=s.find(".navyDialogTitleContainer").find(".closeDialogBtn");return i.isMask&&this.bodyObj.find(".navyMaskWrapper").click(function(){i.isClickMaskCloseDialog&&r.closeDialog(),i.clickMaskCbf()}),s.on("click",".navyDialogBtnClick",function(e){var t=$(e.target);t.hasClass("closeDialogBtn")?i.closeCbf():t.hasClass("navySureBtn")?i.sureBtnCbf():t.hasClass("navyCancelBtn")&&i.cancelBtnCbf(),r.closeDialog()}),e=i.autoCloseSecond,e!==0&&(o.length&&(o.html('<span class="leftSecond">'+e+"</span>\u79d2\u540e\u5173\u95ed"),t=o.find(".leftSecond")[0],NAVY.UTIL.Date.countDown(t,e)),n=setTimeout(function(){r.closeDialog(),n&&clearTimeout(n)},e*1e3)),this},showDialog:function(){var e,t,n,r,i,s,o,u,a=NAVY.UTIL.Style,f=a.getMaxZIndex(),l=this,c=l.options,h="";return c.position!=="fixed"&&(h="position:absolute"),e=['<div style="z-index: '+(2+f)+";"+h+'" class="navyDialogWrapper '+c.dialogClass+'"><table class="navyDialogTable"><tr><td>'],c.isShowTiTle?c.isShowCloseBtn?e.push('<h2 class="navyDialogTitleContainer relative"><a href="javascript:;" class="navyDialogBtnClick closeDialogBtn floatRight">'+c.closeText+'</a><span class="dialogTitle">'+c.title+"</span></h2>"):e.push('<h2 class="navyDialogTitleContainer relative"><span class="dialogTitle textAlignCenter">'+c.title+"</span></h2>"):c.isShowCloseBtn&&e.push('<h2 class="navyDialogTitleContainer relative"><a href="javascript:;" class="navyDialogBtnClick closeDialogBtn floatRight">'+c.closeText+"</a></h2>"),e.push('<div class="navyDialogContentContainer"><div class="navyDialogContent">'+l.contentHtml+"</div></div>"),c.isShowSureBtn?c.isShowCancelBtn?e.push('<div class="navyDialogBtnContainer"><div class="navyDialogBtnContent"><a href="javascript:;" class="navyDialogBtn navyDialogBtnClick navySureBtn">'+c.sureBtnText+'</a><a href="javascript:;" class="navyDialogBtn navyDialogBtnClick navyCancelBtn">'+c.cancelBtnText+"</a></div></div>"):e.push('<div class="navyDialogBtnContainer"><div class="navyDialogBtnContent"><a href="javascript:;" class="navyDialogBtn navyDialogBtnClick navySureBtn marginCenter">'+c.sureBtnText+"</a></div></div>"):c.isShowCancelBtn&&e.push('<div class="navyDialogBtnContainer"><div class="navyDialogBtnContent"><a href="javascript:;" class="navyDialogBtn navyDialogBtnClick navyCancelBtn marginCenter">'+c.cancelBtnText+"</a></div></div>"),e.push("</td></tr></table></div>"),l.dialogObj=$(e.join("")).appendTo(c.target),t=l.dialogObj,n=c.dialogWidth||t.outerWidth(),r=c.dialogHeight||t.outerHeight(),n=n<100?100:n,i=n/2,s=r/2,o=c.marginLeft,u=c.marginTop,o!==null?u!==null?t.css({width:n,height:r,marginLeft:o,marginTop:u,left:0,top:0,overflow:"hidden"}):t.css({width:n,height:r,marginLeft:o,marginTop:-s,left:0,overflow:"hidden"}):u!==null?t.css({width:n,height:r,marginLeft:-i,marginTop:u,top:0,overflow:"hidden"}):t.css({width:n,height:r,marginLeft:-i,marginTop:-s,overflow:"hidden"}),c.isMask&&(l.bodyObj.find(".navyMaskWrapper").length||l.bodyObj.append('<div style="z-index: '+(1+f)+'" class="navyMaskWrapper"></div>')),this},closeDialog:function(){var e=this,t=e.options;return e.dialogObj.unbind().remove(),t.isMask&&e.bodyObj.find(".navyMaskWrapper").remove(),this}},NAVY.Alert=function(e,t){var n,r,i,s;t=t||{},n=t.type||"success",r="successNavyAlert",i=t.dialogClass,i?i+=" navyDialogAlert":i="navyDialogAlert";switch(n){case"error":r="errorNavyAlert";break;case"warning":r="warningNavyAlert";break;default:r="successNavyAlert"}return e='<div class="navyAlert '+r+'">'+e+"</div>",s={isShowTiTle:!1,isShowCloseBtn:!1,isShowSureBtn:!1,isShowCancelBtn:!1,isMask:!1,dialogClass:i,autoCloseSecond:t.autoCloseSecond||3,position:t.position||"fixed",target:t.target||"body",dialogWidth:t.dialogWidth||null,dialogHeight:t.dialogHeight||null,marginLeft:t.marginLeft||null,marginTop:t.marginTop||null},new NAVY.Dialog(e,s)}
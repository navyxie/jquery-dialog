var NAVY=NAVY||{},noop=function(){};NAVY.Dialog=function(e,t){var n={title:"\u6e29\u99a8\u63d0\u793a",isShowTiTle:!0,closeText:"X",closeCbf:noop,isShowCloseBtn:!0,isMask:!0,isClickMaskCloseDialog:!1,clickMaskCbf:noop,sureBtnText:"\u786e\u5b9a",sureBtnCbf:noop,isShowSureBtn:!0,cancelBtnText:"\u53d6\u6d88",cancelBtnCbf:noop,isShowCancelBtn:!0,target:"body",dialogWidth:null,dialogHeight:null,marginLeft:null,marginTop:null,dialogClass:"",position:"fixed",autoCloseSecond:0,knowBtnCbf:noop};this.contentHtml=e||"\u8bf7\u586b\u5145\u5bf9\u8bdd\u6846\u5185\u5bb9",$.extend(n,t),this.options=n,this.targetObj=$(this.options.target),this.bodyObj=$("body"),this.init()},NAVY.Dialog.prototype={init:function(){return this.showDialog(),this.initEvent(),this},initEvent:function(){var e,t,n,r=this,i=r.options,s=r.dialogObj,o=s.find(".navyDialogTitleContainer").find(".closeDialogBtn");return i.isMask&&this.bodyObj.find(".navyMaskWrapper").click(function(){i.isClickMaskCloseDialog&&r.closeDialog(),i.clickMaskCbf()}),s.on("click",".navyDialogBtnClick",function(){var e=$(this);e.hasClass("closeDialogBtn")?(r.closeDialog(),i.closeCbf()):e.hasClass("navySureBtn")?(r.closeDialog(),i.sureBtnCbf()):e.hasClass("navyCancelBtn")?(r.closeDialog(),i.cancelBtnCbf()):e.hasClass("navyDialogTipKnowBtn")&&(r.closeDialog(),i.knowBtnCbf())}),e=i.autoCloseSecond,e!==0&&(o.length&&(o.html('<span class="leftSecond">'+e+"</span>\u79d2\u540e\u5173\u95ed"),t=o.find(".leftSecond")[0],NAVY.UTIL.Date.countDown(t,e)),n=setTimeout(function(){r.closeDialog(),n&&clearTimeout(n)},e*1e3)),this},showDialog:function(){var e,t,n,r,i,s,o,u,a=NAVY.UTIL.Style,f=a.getMaxZIndex(),l=this,c=l.options,h="";return c.position!=="fixed"&&(h="position:absolute"),e=['<div style="z-index: '+(2+f)+";"+h+'" class="navyDialogWrapper '+c.dialogClass+'"><table class="navyDialogTable"><tr><td>'],c.isShowTiTle?c.isShowCloseBtn?e.push('<h2 class="navyDialogTitleContainer relative"><a href="javascript:;" class="navyDialogBtnClick closeDialogBtn floatRight">'+c.closeText+'</a><span class="dialogTitle">'+c.title+"</span></h2>"):e.push('<h2 class="navyDialogTitleContainer relative"><span class="dialogTitle textAlignCenter">'+c.title+"</span></h2>"):c.isShowCloseBtn&&e.push('<h2 class="navyDialogTitleContainer relative"><a href="javascript:;" class="navyDialogBtnClick closeDialogBtn floatRight">'+c.closeText+"</a></h2>"),e.push('<div class="navyDialogContentContainer"><div class="navyDialogContent">'+l.contentHtml+"</div></div>"),c.isShowSureBtn?c.isShowCancelBtn?e.push('<div class="navyDialogBtnContainer"><div class="navyDialogBtnContent"><a href="javascript:;" class="navyDialogBtn navyDialogBtnClick navySureBtn">'+c.sureBtnText+'</a><a href="javascript:;" class="navyDialogBtn navyDialogBtnClick navyCancelBtn">'+c.cancelBtnText+"</a></div></div>"):e.push('<div class="navyDialogBtnContainer"><div class="navyDialogBtnContent"><a href="javascript:;" class="navyDialogBtn navyDialogBtnClick navySureBtn marginCenter">'+c.sureBtnText+"</a></div></div>"):c.isShowCancelBtn&&e.push('<div class="navyDialogBtnContainer"><div class="navyDialogBtnContent"><a href="javascript:;" class="navyDialogBtn navyDialogBtnClick navyCancelBtn marginCenter">'+c.cancelBtnText+"</a></div></div>"),e.push("</td></tr></table></div>"),l.dialogObj=$(e.join("")).appendTo(c.target),t=l.dialogObj,n=c.dialogWidth||t.outerWidth(),r=c.dialogHeight||t.outerHeight(),n=n<80?80:n,i=n/2,s=r/2,o=c.marginLeft,u=c.marginTop,o!==null?u!==null?t.css({width:n,height:r,marginLeft:o,marginTop:u,left:0,top:0,overflow:"hidden"}):t.css({width:n,height:r,marginLeft:o,marginTop:-s,left:0,overflow:"hidden"}):u!==null?t.css({width:n,height:r,marginLeft:-i,marginTop:u,top:0,overflow:"hidden"}):t.css({width:n,height:r,marginLeft:-i,marginTop:-s,overflow:"hidden"}),c.isMask&&(l.bodyObj.find(".navyMaskWrapper").length||l.bodyObj.append('<div style="z-index: '+(1+f)+'" class="navyMaskWrapper"></div>')),this},closeDialog:function(){var e=this,t=e.options;return e.dialogObj.unbind().remove(),t.isMask&&e.bodyObj.find(".navyMaskWrapper").remove(),this}},NAVY.Alert=function(e,t){var n,r,i,s;t=t||{},n=t.type||"success",r="successNavyAlert",i=t.dialogClass,i?i+=" navyDialogAlert":i="navyDialogAlert";switch(n){case"error":r="errorNavyAlert";break;case"warning":r="warningNavyAlert";break;default:r="successNavyAlert"}return e='<div class="navyAlert '+r+'">'+e+"</div>",s={isShowTiTle:!1,isShowCloseBtn:!1,isShowSureBtn:!1,isShowCancelBtn:!1,isMask:!1,dialogClass:i,autoCloseSecond:t.autoCloseSecond||3,position:t.position||"fixed",target:t.target||"body",dialogWidth:t.dialogWidth||null,dialogHeight:t.dialogHeight||null,marginLeft:t.marginLeft||null,marginTop:t.marginTop||null},new NAVY.Dialog(e,s)},NAVY.Tip=function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d;n=n||{},n.isShowKnowBtn===undefined&&(n.isShowKnowBtn=!0),n.knowBtnText=n.knowBtnText||"\u77e5\u9053\u4e86",r=n.dialogClass,r?r+=" navyDialogTip":r="navyDialogTip",i={isShowTiTle:!1,isShowCloseBtn:!1,isShowSureBtn:!1,isShowCancelBtn:!1,isMask:!1,dialogClass:r,autoCloseSecond:n.autoCloseSecond||0,position:n.position||"absolute",target:e||n.target||"body",knowBtnCbf:n.knowBtnCbf||noop,dialogWidth:n.dialogWidth||null,dialogHeight:n.dialogHeight||null,marginLeft:n.marginLeft||null,marginTop:n.marginTop||null,tipBorderColor:n.tipBorderColor||null,arrowValue:n.arrowValue||null},s=n.direction||"top",o="arrowTop";switch(s){case"bottom":o="arrowBottom";break;case"left":o="arrowLeft";break;case"right":o="arrowRight";break;default:o="arrowTop"}return u=i.tipBorderColor,a=i.arrowValue,f={},l={},c=10,u!==null?a!==null?(f.arrowBottom='style="border-top-color:'+u+";left:0;margin-left:"+(a+c)+'px;"',f.arrowLeft='style="border-right-color:'+u+";top:0;margin-top:"+(a+c)+'px;"',f.arrowRight='style="border-left-color:'+u+";top:0;margin-top:"+(a+c)+'px;"',f.arrowTop='style="border-bottom-color:'+u+";left:0;margin-left:"+(a+c)+'px;"',l.arrowBottom='style="left:0;margin-left:'+(a+c)+'px;"',l.arrowLeft='style="top:0;margin-top:'+(a+c)+'px;"',l.arrowRight='style="top:0;margin-top:'+(a+c)+'px;"',l.arrowTop='style="left:0;margin-left:'+(a+c)+'px;"'):(f.arrowBottom='style="border-top-color:'+u+'"',f.arrowLeft='style="border-right-color:'+u+'"',f.arrowRight='style="border-left-color:'+u+'"',f.arrowTop='style="border-bottom-color:'+u+'"'):a!==null&&(f.arrowBottom=l.arrowBottom='style="left:0;margin-left:'+(a+c)+'px;"',f.arrowLeft=l.arrowLeft='style="top:0;margin-top:'+(a+c)+'px;"',f.arrowRight=l.arrowRight='style="top:0;margin-top:'+(a+c)+'px;"',f.arrowTop=l.arrowTop='style="left:0;margin-left:'+(a+c)+'px;"'),h=f[o]||"",p=l[o]||"",t='<div class="navyTip">'+t+"</div><div "+h+' class="navyTipArrow navyTipArrow1 absolute '+o+'"></div><div '+p+' class="navyTipArrow navyTipArrow2 absolute '+o+'"></div>',n.isShowKnowBtn&&(t+='<div class="navyDialogTipBtnContainer"><a href="javascript:;" class="navyDialogBtnClick navyDialogTipKnowBtn">'+n.knowBtnText+"</a></div>"),d=new NAVY.Dialog(t,i),u!==null&&d.dialogObj.find(".navyDialogContent").css({"border-color":u}),f=l=c=h=p=n=null,d}